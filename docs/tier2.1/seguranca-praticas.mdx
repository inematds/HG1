---
sidebar_position: 7
title: 7. SeguranÃ§a e Boas PrÃ¡ticas
description: OperaÃ§Ã£o segura do G1
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# ğŸ›¡ï¸ SeguranÃ§a e Boas PrÃ¡ticas

:::tip Objetivo
Dominar protocolos de seguranÃ§a para operaÃ§Ã£o responsÃ¡vel do Unitree G1, protegendo pessoas, ambiente e o prÃ³prio robÃ´.
:::

---

## âš ï¸ Regras Fundamentais de SeguranÃ§a

### Os 5 PrincÃ­pios InviolÃ¡veis

```
REGRAS DE OURO - NUNCA VIOLE:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1ï¸âƒ£ EMERGENCY STOP sempre acessÃ­vel
   â†’ BotÃ£o fÃ­sico ou comando remoto a 1 segundo

2ï¸âƒ£ NUNCA operar perto de escadas sem supervisÃ£o
   â†’ Quedas podem causar danos irreparÃ¡veis

3ï¸âƒ£ SEMPRE manter zona de seguranÃ§a de 2 metros
   â†’ G1 pode se mover inesperadamente

4ï¸âƒ£ DESLIGAR antes de manutenÃ§Ã£o fÃ­sica
   â†’ Motores podem ativar sem aviso

5ï¸âƒ£ MONITORAR bateria continuamente
   â†’ < 15% pode causar shutdown abrupto e queda
```

---

## ğŸš¨ Sistema de Emergency Stop

### Hardware E-Stop

<Tabs>
<TabItem value="button" label="BotÃ£o FÃ­sico">

**LocalizaÃ§Ã£o:** Base do pescoÃ§o (costas do G1)

```python
from unitree_sdk import G1Safety

safety = G1Safety()

# Verificar status do E-Stop
if safety.is_estop_pressed():
    print("ğŸš¨ E-Stop ativado!")
    # G1 estÃ¡ em modo seguro, motores desligados

# Para reativar apÃ³s E-Stop:
# 1. Soltar botÃ£o fÃ­sico
# 2. Executar:
safety.release_estop()
safety.reinitialize_motors()
```

**IMPORTANTE:** E-Stop corta energia dos motores IMEDIATAMENTE. G1 pode cair se estiver em pÃ©!

</TabItem>

<TabItem value="software" label="Software E-Stop">

```python
# E-Stop via software (app/cÃ³digo)
safety.emergency_stop()

# Ou via ROS2
ros2 topic pub /emergency_stop std_msgs/Bool "data: true"

# Status
status = safety.get_safety_status()
print(f"E-Stop ativo: {status.estop_active}")
print(f"Motores habilitados: {status.motors_enabled}")
print(f"Ãšltimo erro: {status.last_error}")
```

### Programar E-Stop AutomÃ¡tico

```python
# Parar se detectar colisÃ£o iminente
safety.enable_auto_estop(
    conditions=[
        "obstacle_too_close",  # ObstÃ¡culo < 30cm
        "high_motor_temp",     # Temp > 75Â°C
        "low_battery",         # < 10%
        "fall_detected",       # InclinaÃ§Ã£o > 35Â°
        "joint_limit_exceeded" # Junta fora do range
    ]
)
```

</TabItem>
</Tabs>

---

## ğŸ‘¥ SeguranÃ§a em Torno de Pessoas

### Zonas de ProteÃ§Ã£o

```
ZONAS DE SEGURANÃ‡A:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Zona CrÃ­tica  â”‚ â† 0.5m
        â”‚     (PARAR)     â”‚
        â”‚    â•”â•â•â•â•â•â•â•â•—    â”‚
        â”‚    â•‘       â•‘    â”‚
        â””â”€â”€â”€â”€â•‘  G1   â•‘â”€â”€â”€â”€â”˜
        â”Œâ”€â”€â”€â”€â•‘       â•‘â”€â”€â”€â”€â”
        â”‚    â•šâ•â•â•â•â•â•â•â•    â”‚
        â”‚   Zona Aviso    â”‚ â† 1.5m
        â”‚   (DESACELERAR) â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```python
# Configurar proteÃ§Ã£o de pessoa
safety.enable_human_detection(
    critical_distance=0.5,  # metros - PARAR
    warning_distance=1.5,   # metros - REDUZIR 50%
    detection_method="lidar+camera",  # FusÃ£o sensores
    tracking=True          # Rastrear movimento
)

# Modo colaborativo (trabalhar prÃ³ximo a humanos)
safety.set_collaborative_mode(
    max_speed=0.3,         # m/s (muito lento)
    max_force=20,          # N (baixa forÃ§a)
    soft_padding=True      # Ativar padding virtual
)
```

### DetecÃ§Ã£o de CrianÃ§as e Pets

```python
# Perfil especial para crianÃ§as/pets (mais conservador)
safety.enable_child_pet_detection(
    stop_distance=1.0,      # Maior distÃ¢ncia
    height_range=(0.3, 1.2),  # Detectar altura crianÃ§a
    sound_alerts=True,      # Emitir som de aviso
    gentle_stop=True        # Parar suavemente
)
```

---

## ğŸ  SeguranÃ§a Ambiental

### SuperfÃ­cies Seguras

<Tabs>
<TabItem value="safe" label="SuperfÃ­cies OK">

**âœ… SEGURAS para G1:**
- Piso de madeira (seco)
- CerÃ¢mica/porcelanato (seco)
- Carpete de pelo baixo (< 2cm)
- Concreto liso
- Asfalto plano

```python
# Verificar tipo de superfÃ­cie
surface = safety.detect_surface_type()
print(f"SuperfÃ­cie: {surface.type}")
print(f"TraÃ§Ã£o estimada: {surface.friction:.2f}")
print(f"Seguro: {surface.is_safe}")
```

</TabItem>

<TabItem value="unsafe" label="SuperfÃ­cies PERIGO">

**âŒ PERIGOSAS para G1:**
- Piso molhado/escorregadio
- Carpete de pelo alto (> 3cm)
- Grama molhada
- Terra/areia solta
- Gelo/neve
- SuperfÃ­cies inclinadas > 15Â°

```python
# Detectar superfÃ­cie insegura
if not safety.is_surface_safe():
    print("âš ï¸ SuperfÃ­cie insegura detectada!")
    safety.reduce_speed(factor=0.3)
    safety.enable_extra_caution_mode()

# Alertar sobre lÃ­quidos
if safety.detect_liquid_on_floor():
    print("ğŸ’§ LÃQUIDO DETECTADO! Parando.")
    g1.emergency_stop()
```

</TabItem>
</Tabs>

### ObstÃ¡culos e Escadas

```python
# DetecÃ§Ã£o de borda de escada
safety.enable_cliff_detection(
    threshold=0.15,  # metros de desnÃ­vel
    action="stop"    # ou "backup"
)

# Zona de exclusÃ£o (keep-out zone)
safety.add_keepout_zone(
    name="escada_principal",
    polygon=[
        (2.0, 3.0),
        (2.5, 3.0),
        (2.5, 4.0),
        (2.0, 4.0)
    ],
    action="stop_before"  # Parar 50cm antes
)
```

---

## ğŸ”‹ GestÃ£o de Bateria

### Monitoramento CrÃ­tico

```python
from unitree_sdk import G1Battery

battery = G1Battery()

# Status completo
status = battery.get_status()
print(f"Carga: {status.percentage}%")
print(f"Voltagem: {status.voltage}V")
print(f"Corrente: {status.current}A")
print(f"Temperatura: {status.temperature}Â°C")
print(f"Tempo restante: {status.time_remaining} min")

# ALERTAS CRÃTICOS
if status.percentage < 15:
    print("ğŸ”´ BATERIA CRÃTICA! Retornar Ã  base.")
    g1.navigate_to("charging_station")

elif status.percentage < 30:
    print("ğŸŸ¡ Bateria baixa. Concluir tarefas.")

# Auto-shutdown preventivo
battery.enable_safe_shutdown(
    trigger_level=10,  # %
    action="return_home_and_sit"
)
```

### Ciclos de Carga

```
BOAS PRÃTICAS DE BATERIA:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… Carregar quando < 20%
âœ… Descarregar atÃ© ~10% (nÃ£o 0%)
âœ… Armazenar em 50-60% se nÃ£o usar > 1 mÃªs
âœ… Temperatura ideal carga: 15-25Â°C

âŒ NUNCA carregar se temp > 45Â°C
âŒ NUNCA descarregar completamente (0%)
âŒ NUNCA deixar em 100% por > 24h sem usar
```

---

## ğŸ”§ SeguranÃ§a em ManutenÃ§Ã£o

### Procedimento Seguro

```python
# Antes de tocar em G1:
safety.enter_maintenance_mode()
# â†“
# 1. Desliga motores
# 2. Desabilita reaÃ§Ãµes automÃ¡ticas
# 3. Trava juntas

# Verificar se seguro tocar
if safety.is_safe_to_touch():
    print("âœ… Seguro para manutenÃ§Ã£o")
else:
    print("âš ï¸ AGUARDE! Ainda hÃ¡ energia nos capacitores")
    time.sleep(5)

# ApÃ³s manutenÃ§Ã£o
safety.exit_maintenance_mode()
safety.run_system_check()  # Verificar integridade
```

---

## ğŸ“Š Monitoramento de SaÃºde

```python
# Health check completo
health = safety.get_system_health()

for system, status in health.items():
    icon = "âœ…" if status.ok else "âš ï¸"
    print(f"{icon} {system}: {status.message}")

# Exemplo de saÃ­da:
# âœ… Motors: All nominal
# âœ… Sensors: All online
# âš ï¸ Left_ankle: Temperature 68Â°C (high)
# âœ… Battery: 85% - Good
# âœ… Network: Connected

# Log de seguranÃ§a
safety.enable_safety_logging(
    log_level="warning",
    save_to="/var/log/g1/safety.log"
)
```

---

## âœ… Checklist PrÃ©-OperaÃ§Ã£o

```markdown
ANTES DE CADA USO:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[ ] Bateria > 20%
[ ] Ambiente livre de obstÃ¡culos perigosos
[ ] BotÃ£o E-Stop acessÃ­vel
[ ] SuperfÃ­cie seca e plana
[ ] Sensores limpos (LIDAR, cÃ¢meras)
[ ] Sistema de conectividade OK
[ ] Zona de seguranÃ§a demarcada
[ ] Pessoas avisadas da operaÃ§Ã£o
[ ] Plano de emergÃªncia definido
[ ] Logs de erro revisados
```

---

## ğŸš‘ Procedimentos de EmergÃªncia

### Se G1 Cair

```
1. PRESSIONAR E-STOP IMEDIATAMENTE
2. NÃƒO TENTAR LEVANTAR SOZINHO (13kg)
3. Desligar bateria (switch na base)
4. Verificar danos visÃ­veis
5. Contactar suporte Unitree
6. NÃƒO religar sem inspeÃ§Ã£o
```

### Se G1 Colidir com Pessoa

```
1. E-STOP + verificar pessoa
2. Se lesÃ£o: chamar emergÃªncia
3. Desligar G1 completamente
4. Documentar incidente (fotos, relato)
5. Reportar para Unitree
6. Revisar configuraÃ§Ãµes de seguranÃ§a
```

---

## ğŸ”— PrÃ³ximos Passos

:::tip PrÃ³ximo MÃ³dulo
**[ğŸ”§ ManutenÃ§Ã£o BÃ¡sica â†’](./manutencao-basica)**

Aprenda a manter G1 em condiÃ§Ãµes ideais de operaÃ§Ã£o.
:::

---

**â±ï¸ Tempo:** 30-45 min | **âš ï¸ Criticidade:** ALTA | **ğŸ“‹ CertificaÃ§Ã£o:** ObrigatÃ³ria
