---
sidebar_position: 8
title: 8. Custom Skills
description: Criar habilidades customizadas
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# ‚öôÔ∏è Custom Skills

:::tip Objetivo
Criar, testar e publicar suas pr√≥prias habilidades (skills) personalizadas para estender as capacidades do MindOn.
:::

---

## üéØ MindOn SDK Overview

O **MindOn SDK** permite criar skills customizadas usando Python para adicionar novas funcionalidades ao seu G1.

### Anatomia de uma Skill

```python
# my_custom_skill.py
from mindon_sdk import Skill, SkillParameter

class MyCustomSkill(Skill):
    # Metadados da skill
    name = "my_custom_skill"
    description = "Descri√ß√£o da minha skill customizada"
    version = "1.0.0"
    author = "Seu Nome"
    category = "utility"  # ou navigation, manipulation, etc

    # Par√¢metros que a skill aceita
    parameters = [
        SkillParameter("target", type="string", required=True),
        SkillParameter("speed", type="float", default=0.5)
    ]

    def execute(self, target, speed=0.5):
        """L√≥gica principal da skill"""
        self.log(f"Executando skill para: {target}")

        # Sua implementa√ß√£o aqui
        result = self.do_something(target, speed)

        return {"success": True, "result": result}

    def do_something(self, target, speed):
        # Implementa√ß√£o espec√≠fica
        pass
```

---

## üöÄ Criar Sua Primeira Skill

### Exemplo: Skill de Inspe√ß√£o

```python
from mindon_sdk import Skill, SkillParameter
from mindon_sdk import Vision, Navigation, Voice

class InspectionSkill(Skill):
    """Navega at√© um local e tira fotos de m√∫ltiplos √¢ngulos"""

    name = "inspect_location"
    description = "Navega e captura fotos 360¬∞ de um local"
    version = "1.0.0"
    category = "utility"

    parameters = [
        SkillParameter("location", type="string", required=True),
        SkillParameter("num_angles", type="int", default=4),
        SkillParameter("save_to", type="string", default="/photos")
    ]

    def __init__(self):
        self.vision = Vision()
        self.nav = Navigation()
        self.voice = Voice()

    def execute(self, location, num_angles=4, save_to="/photos"):
        # 1. Navegar para local
        self.voice.speak(f"Navegando para {location}")
        if not self.nav.go_to(location):
            return {"success": False, "error": "Navega√ß√£o falhou"}

        # 2. Tirar fotos em diferentes √¢ngulos
        photos = []
        angle_step = 360 / num_angles

        for i in range(num_angles):
            # Rotacionar
            self.nav.rotate(angle_step)

            # Capturar foto
            photo = self.vision.take_photo()
            photo_path = f"{save_to}/inspection_{location}_{i}.jpg"
            self.vision.save_photo(photo, photo_path)
            photos.append(photo_path)

            self.log(f"Foto {i+1}/{num_angles} capturada")

        # 3. Retornar √† base
        self.nav.go_to("home")
        self.voice.speak(f"Inspe√ß√£o de {location} completa. {num_angles} fotos capturadas.")

        return {
            "success": True,
            "photos": photos,
            "location": location
        }
```

---

## üìù Manifest da Skill

Toda skill precisa de um arquivo `manifest.json`:

```json
{
  "name": "inspect_location",
  "version": "1.0.0",
  "author": "Seu Nome",
  "author_email": "seu@email.com",
  "description": "Navega e captura fotos 360¬∞ de um local",
  "category": "utility",
  "tags": ["navigation", "vision", "inspection"],
  "license": "MIT",
  "min_mindon_version": "1.2.0",
  "dependencies": [],
  "parameters": [
    {
      "name": "location",
      "type": "string",
      "required": true,
      "description": "Nome do local para inspecionar"
    },
    {
      "name": "num_angles",
      "type": "int",
      "default": 4,
      "description": "N√∫mero de √¢ngulos para fotografar"
    }
  ],
  "permissions": [
    "navigation",
    "vision",
    "voice"
  ]
}
```

---

## üß™ Testar Custom Skill

### Teste Local

```python
# test_inspection_skill.py
from inspection_skill import InspectionSkill

# Criar inst√¢ncia da skill
skill = InspectionSkill()

# Testar com par√¢metros
result = skill.execute(
    location="kitchen",
    num_angles=8,
    save_to="/tmp/test_photos"
)

# Verificar resultado
assert result["success"] == True
assert len(result["photos"]) == 8
print("‚úÖ Teste passou!")
```

### Teste no G1

```bash
# Instalar skill localmente no G1
mindon-cli skill install ./my_inspection_skill --dev

# Testar via comando de voz
"Hey MindOn, execute inspect location kitchen"

# Ver logs em tempo real
mindon-cli skill logs inspect_location --follow
```

---

## üì¶ Publicar na Marketplace

### Preparar para Publica√ß√£o

<Tabs>
<TabItem value="structure" label="Estrutura">

```
my_inspection_skill/
‚îú‚îÄ‚îÄ skill.py              # C√≥digo principal
‚îú‚îÄ‚îÄ manifest.json         # Metadados
‚îú‚îÄ‚îÄ README.md            # Documenta√ß√£o
‚îú‚îÄ‚îÄ requirements.txt     # Depend√™ncias Python
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ test_skill.py    # Testes unit√°rios
‚îú‚îÄ‚îÄ examples/
‚îÇ   ‚îî‚îÄ‚îÄ example_usage.py # Exemplos de uso
‚îî‚îÄ‚îÄ LICENSE              # Licen√ßa (MIT, Apache, etc)
```

</TabItem>

<TabItem value="readme" label="README">

```markdown
# Inspection Location Skill

Navega at√© um local espec√≠fico e captura fotos de m√∫ltiplos √¢ngulos.

## Instala√ß√£o

\`\`\`bash
mindon-cli skill install inspect_location
\`\`\`

## Uso

### Via Voz
\`\`\`
"Hey MindOn, inspect kitchen"
"Hey MindOn, inspect living room with 8 angles"
\`\`\`

### Via C√≥digo
\`\`\`python
from mindon_sdk import SkillExecutor

executor = SkillExecutor()
result = executor.run("inspect_location", {
    "location": "bedroom",
    "num_angles": 6
})
\`\`\`

## Par√¢metros

- `location` (string, obrigat√≥rio): Nome do local
- `num_angles` (int, opcional): N√∫mero de √¢ngulos (default: 4)
- `save_to` (string, opcional): Diret√≥rio para salvar fotos

## Licen√ßa

MIT
```

</TabItem>
</Tabs>

### Upload para Marketplace

```bash
# 1. Login na conta MindOn
mindon-cli login

# 2. Validar skill
mindon-cli skill validate ./my_inspection_skill

# 3. Publicar
mindon-cli skill publish ./my_inspection_skill \
  --category utility \
  --price free  # ou valor em USD

# 4. Aguardar aprova√ß√£o (1-3 dias)
```

---

## üîß Skills Avan√ßadas

### Skill com Machine Learning

```python
from mindon_sdk import Skill, MLModel

class ObjectClassifierSkill(Skill):
    name = "classify_object"
    description = "Classifica objetos usando ML customizado"

    def __init__(self):
        # Carregar modelo treinado
        self.model = MLModel.load("my_model.pth")
        self.vision = Vision()

    def execute(self, confidence_threshold=0.8):
        # Capturar imagem
        image = self.vision.get_rgb_frame()

        # Infer√™ncia
        predictions = self.model.predict(image)

        # Filtrar por confian√ßa
        results = [
            p for p in predictions
            if p.confidence >= confidence_threshold
        ]

        return {"objects": results}
```

### Skill com External API

```python
import requests
from mindon_sdk import Skill

class WeatherSkill(Skill):
    name = "get_weather"
    description = "Busca previs√£o do tempo via API"

    def execute(self, city="S√£o Paulo"):
        # Chamar API externa
        api_key = self.get_config("openweather_api_key")
        url = f"https://api.openweathermap.org/data/2.5/weather"

        response = requests.get(url, params={
            "q": city,
            "appid": api_key,
            "units": "metric",
            "lang": "pt_br"
        })

        if response.status_code == 200:
            data = response.json()
            temp = data["main"]["temp"]
            desc = data["weather"][0]["description"]

            self.voice.speak(
                f"Em {city}, est√° fazendo {temp}¬∞C, {desc}"
            )

            return {"success": True, "temperature": temp}
        else:
            return {"success": False, "error": "API falhou"}
```

---

## üìä Monetiza√ß√£o

### Pricing Models

```python
# No manifest.json
{
  "pricing": {
    "model": "one_time",  # ou "subscription" ou "usage_based"
    "price": 4.99,        # USD
    "currency": "USD",
    "trial_days": 7       # Per√≠odo de teste gr√°tis
  }
}
```

### Analytics de Uso

```bash
# Ver estat√≠sticas da sua skill publicada
mindon-cli skill stats inspect_location

# Sa√≠da:
# Total installs: 1,247
# Active users: 892
# Avg rating: 4.7/5.0
# Revenue (last 30d): $312.45
```

---

## ‚úÖ Checklist de Desenvolvimento

- [ ] Skill implementada e testada localmente
- [ ] Manifest.json completo
- [ ] README com documenta√ß√£o clara
- [ ] Testes unit√°rios criados
- [ ] Exemplos de uso inclu√≠dos
- [ ] Valida√ß√£o passou (mindon-cli skill validate)
- [ ] Publicada na marketplace
- [ ] Testada por usu√°rios beta

---

## üêõ Debugging

```python
# Habilitar logs detalhados na skill
class MySkill(Skill):
    debug = True  # Logs verbosos

    def execute(self, param):
        self.log("Iniciando execu√ß√£o", level="INFO")
        self.log(f"Par√¢metro recebido: {param}", level="DEBUG")

        try:
            result = self.do_work(param)
        except Exception as e:
            self.log(f"Erro: {e}", level="ERROR")
            return {"success": False, "error": str(e)}

        return {"success": True, "result": result}
```

---

## üîó Pr√≥ximos Passos

:::tip Pr√≥ximo M√≥dulo
**[üîí Privacy e Seguran√ßa ‚Üí](./privacy-seguranca)**

Aprenda sobre prote√ß√£o de dados e seguran√ßa no MindOn!
:::

---

**‚è±Ô∏è Tempo:** 90-120 min | **üíª Requisito:** Python 3.8+ | **üß† N√≠vel:** Avan√ßado
