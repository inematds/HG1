---
sidebar_position: 7
title: 7. Multi-Robot Coordination
description: Coordenar mÃºltiplos robÃ´s
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# ğŸ¤– Multi-Robot Coordination

:::tip Objetivo
Coordenar mÃºltiplos robÃ´s G1 para executar tarefas colaborativas, gerenciar frotas e implementar comportamentos de enxame.
:::

---

## ğŸ¯ Fundamentos da CoordenaÃ§Ã£o Multi-Robot

MÃºltiplos G1s podem trabalhar juntos de forma **coordenada e autÃ´noma**, dividindo tarefas complexas e otimizando eficiÃªncia.

### Arquitetura Multi-Robot

```
SISTEMA DE COORDENAÃ‡ÃƒO MINDON:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Fleet Manager (Cloud/Edge)             â”‚
â”‚  â€¢ Task allocation                      â”‚
â”‚  â€¢ Resource optimization                â”‚
â”‚  â€¢ Conflict resolution                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“            â†“            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  G1-A   â”‚â†â†’â”‚  G1-B   â”‚â†â†’â”‚  G1-C   â”‚
â”‚ (Leader)â”‚  â”‚(Worker1)â”‚  â”‚(Worker2)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Fleet Management

### Inicializar Frota

```python
from mindon_sdk import FleetManager

fleet = FleetManager()

# Adicionar robÃ´s Ã  frota
fleet.add_robot("G1-Alpha", ip="192.168.1.100")
fleet.add_robot("G1-Beta", ip="192.168.1.101")
fleet.add_robot("G1-Gamma", ip="192.168.1.102")

# Verificar status da frota
status = fleet.get_status()
for robot in status.robots:
    print(f"{robot.name}: {robot.state} (battery: {robot.battery}%)")
```

### DelegaÃ§Ã£o de Tarefas

<Tabs>
<TabItem value="manual" label="Manual">

```python
# DelegaÃ§Ã£o manual de tarefas
fleet.assign_task("G1-Alpha", task="patrol", zone="living_room")
fleet.assign_task("G1-Beta", task="clean", zone="kitchen")
fleet.assign_task("G1-Gamma", task="monitor", zone="entrance")
```

</TabItem>

<TabItem value="auto" label="AutomÃ¡tica">

```python
# DelegaÃ§Ã£o automÃ¡tica (otimizada por IA)
tasks = [
    {"type": "patrol", "zone": "living_room", "priority": 1},
    {"type": "clean", "zone": "kitchen", "priority": 2},
    {"type": "monitor", "zone": "entrance", "priority": 3},
    {"type": "fetch", "item": "newspaper", "priority": 2}
]

# MindOn aloca automaticamente baseado em:
# - DistÃ¢ncia do robÃ´ Ã  tarefa
# - Carga da bateria
# - Habilidades especÃ­ficas
# - Prioridade da tarefa
assignments = fleet.allocate_tasks(tasks, strategy="optimal")

for assignment in assignments:
    print(f"{assignment.robot} â†’ {assignment.task}")
```

</TabItem>
</Tabs>

---

## ğŸ—ºï¸ Mapas Compartilhados

### Sincronizar Mapas

```python
from mindon_sdk import SharedMapping

shared_map = SharedMapping(fleet_id="my_fleet")

# G1-Alpha explora sala
map_alpha = shared_map.explore("G1-Alpha", room="bedroom")

# Compartilhar com outros robÃ´s
shared_map.sync_to_fleet(map_alpha)

# Agora G1-Beta e G1-Gamma tÃªm o mapa do quarto
# sem precisar explorar novamente!
```

### Mapeamento Colaborativo

```python
# MÃºltiplos robÃ´s mapeiam simultaneamente
mapping_session = shared_map.start_collaborative_mapping(
    robots=["G1-Alpha", "G1-Beta", "G1-Gamma"],
    area="entire_house",
    merge_strategy="consensus"  # ou "primary_robot"
)

# Aguardar conclusÃ£o
while not mapping_session.is_complete():
    progress = mapping_session.get_progress()
    print(f"Mapeamento: {progress}% completo")
    time.sleep(5)

# Mapa final mesclado de todos os robÃ´s
final_map = mapping_session.get_merged_map()
```

---

## ğŸš§ PrevenÃ§Ã£o de ColisÃµes

### Zona de ExclusÃ£o DinÃ¢mica

```python
from mindon_sdk import CollisionAvoidance

collision = CollisionAvoidance(fleet)

# Cada robÃ´ tem zona de seguranÃ§a ao redor
collision.set_safety_zone(
    radius=1.5,  # metros
    dynamic=True  # Ajusta baseado em velocidade
)

# RobÃ´s se evitam automaticamente
# Se G1-Alpha e G1-Beta estÃ£o em rota de colisÃ£o:
# 1. Detectam a 3 metros
# 2. Negociam quem desvia (baseado em prioridade da tarefa)
# 3. Um desvia, outro continua
```

### SemÃ¡foros Virtuais

```python
# Corredores estreitos = semÃ¡foro
collision.add_virtual_semaphore(
    location="hallway_entrance",
    width=0.8,  # metros
    rule="one_at_a_time"
)

# Quando G1-Alpha entra no corredor:
# â†’ SemÃ¡foro fecha
# â†’ G1-Beta aguarda na entrada
# â†’ Quando G1-Alpha sai, semÃ¡foro abre
# â†’ G1-Beta pode entrar
```

---

## ğŸ¤ Tarefas Colaborativas

### Transporte de Carga Pesada

```python
# Objeto muito pesado para 1 robÃ´ (ex: 8kg)
heavy_box = vision.detect_object("large_box")

if heavy_box.weight > 3.0:  # kg
    # Requer 2 robÃ´s
    collab = fleet.create_collaborative_task(
        task="bimanual_transport",
        robots=["G1-Alpha", "G1-Beta"],
        object=heavy_box,
        destination="storage_room"
    )

    # Ambos robÃ´s coordenam:
    # 1. Aproximam do objeto simultaneamente
    # 2. Pegam lados opostos
    # 3. Levantam sincronizadamente
    # 4. Caminham em formaÃ§Ã£o
    # 5. Colocam suavemente no destino

    collab.execute()
```

### Busca DistribuÃ­da

```python
# Encontrar objeto perdido em casa grande
search_task = fleet.distributed_search(
    target="remote_control",
    search_area=["living_room", "bedroom", "office"],
    robots=["G1-Alpha", "G1-Beta", "G1-Gamma"]
)

# Cada robÃ´ busca em 1 cÃ´modo paralelamente
# Primeiro que encontrar notifica os outros
result = search_task.wait_for_completion(timeout=300)

if result.found:
    print(f"{result.finder} encontrou em {result.location}")
```

---

## ğŸ Swarm Behaviors

### FormaÃ§Ã£o de Patrulha

```python
from mindon_sdk import SwarmBehavior

swarm = SwarmBehavior(fleet)

# Patrulha em formaÃ§Ã£o triangular
swarm.create_formation(
    type="triangle",
    leader="G1-Alpha",
    followers=["G1-Beta", "G1-Gamma"],
    spacing=2.0  # metros entre robÃ´s
)

# Iniciar patrulha
swarm.start_patrol(
    waypoints=["entrance", "living_room", "kitchen", "bedroom"],
    maintain_formation=True,
    speed=0.5  # m/s
)

# RobÃ´s mantÃªm formaÃ§Ã£o mesmo ao virar esquinas!
```

### ReaÃ§Ã£o de Enxame

```python
# Se um robÃ´ detecta intruso, todos respondem
swarm.enable_group_response(
    trigger="intruder_detected",
    action="converge_and_surround",
    max_distance=10.0  # Apenas robÃ´s a <10m respondem
)

# Exemplo: G1-Beta detecta intruso
# â†’ G1-Alpha e G1-Gamma navegam para ajudar
# â†’ Formam cÃ­rculo ao redor do intruso
# â†’ Enviam alerta ao dono
```

---

## ğŸ“Š Monitoramento de Frota

### Dashboard de Status

```python
# Obter mÃ©tricas da frota
metrics = fleet.get_metrics()

print(f"RobÃ´s ativos: {metrics.active_robots}/{metrics.total_robots}")
print(f"Tarefas em andamento: {metrics.tasks_in_progress}")
print(f"Bateria mÃ©dia: {metrics.avg_battery}%")
print(f"EficiÃªncia: {metrics.efficiency_score}/100")

# Alertas
for alert in metrics.alerts:
    print(f"âš ï¸ {alert.robot}: {alert.message}")
```

### Analytics

```python
# AnÃ¡lise de desempenho da frota
analytics = fleet.get_analytics(period="last_7_days")

print(f"Total de tarefas: {analytics.total_tasks}")
print(f"Taxa de sucesso: {analytics.success_rate}%")
print(f"Tempo mÃ©dio por tarefa: {analytics.avg_task_time} min")

# RobÃ´ mais eficiente
best = analytics.top_performer
print(f"Melhor robÃ´: {best.name} ({best.score} pontos)")
```

---

## ğŸ”§ ConfiguraÃ§Ãµes AvanÃ§adas

### Load Balancing

```python
# Distribuir carga uniformemente
fleet.enable_load_balancing(
    strategy="equal_workload",  # ou "battery_aware"
    rebalance_interval=300  # segundos
)

# Se G1-Alpha tem 5 tarefas e G1-Beta tem 1:
# â†’ Sistema transfere 2 tarefas de Alpha para Beta
```

### Hierarquia de Comando

```python
# Definir lÃ­der da frota
fleet.set_leader("G1-Alpha")

# LÃ­der tem privilÃ©gios:
# - Resolver conflitos entre robÃ´s
# - Reprovar decisÃµes
# - Assumir tarefas crÃ­ticas prioritariamente

# SucessÃ£o automÃ¡tica se lÃ­der ficar offline
fleet.set_succession_order(["G1-Beta", "G1-Gamma"])
```

---

## âœ… Checklist Multi-Robot

- [ ] Adicionou 2+ robÃ´s Ã  frota
- [ ] Testou delegaÃ§Ã£o automÃ¡tica de tarefas
- [ ] Sincronizou mapas entre robÃ´s
- [ ] Validou prevenÃ§Ã£o de colisÃµes
- [ ] Executou tarefa colaborativa (transporte)
- [ ] Testou busca distribuÃ­da
- [ ] Criou formaÃ§Ã£o de patrulha
- [ ] Monitorou mÃ©tricas da frota

---

## ğŸ› Troubleshooting

| Problema | SoluÃ§Ã£o |
|----------|---------|
| RobÃ´s colidem | Aumentar `safety_zone` radius para 2.0m |
| Tarefas mal distribuÃ­das | Usar `strategy="battery_aware"` |
| Mapas nÃ£o sincronizam | Verificar conectividade WiFi entre robÃ´s |
| FormaÃ§Ã£o se quebra | Reduzir velocidade de patrulha |

---

## ğŸ”— PrÃ³ximos Passos

:::tip PrÃ³ximo MÃ³dulo
**[âš™ï¸ Custom Skills â†’](./custom-skills)**

Aprenda a criar suas prÃ³prias habilidades personalizadas para MindOn!
:::

---

**â±ï¸ Tempo:** 60-90 min | **ğŸ¤– Requisito:** 2+ G1s | **ğŸ§  NÃ­vel:** AvanÃ§ado
