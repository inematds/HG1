---
sidebar_position: 3
title: 3. Sistema de Energia e Bateria
description: Bateria, BMS, carregamento e otimizaÃ§Ã£o
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# ğŸ”‹ Sistema de Energia e Bateria

:::tip Objetivo
Dominar o sistema de energia do G1: bateria, BMS, carregamento, otimizaÃ§Ã£o de autonomia e seguranÃ§a.
:::

---

## ğŸ”‹ Bateria Principal

### EspecificaÃ§Ãµes TÃ©cnicas

**Tipo**: LiPo 12S (12 cÃ©lulas em sÃ©rie)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UNITREE G1 BATTERY PACK            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ConfiguraÃ§Ã£o: 12S2P                 â”‚
â”‚ â€¢ 12 cells em sÃ©rie (voltagem)      â”‚
â”‚ â€¢ 2 cells em paralelo (capacidade)  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Voltagem Nominal:    48V (44.4V)    â”‚
â”‚ Voltagem MÃ¡xima:     50.4V          â”‚
â”‚ Voltagem MÃ­nima:     36V            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Capacidade:          9000mAh (9Ah)  â”‚
â”‚ Energia Total:       432 Wh         â”‚
â”‚ Corrente ContÃ­nua:   30A            â”‚
â”‚ Corrente Pico:       90A (10s)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Peso:                2.1kg          â”‚
â”‚ DimensÃµes:           250x150x80mm   â”‚
â”‚ QuÃ­mica:             LiPo (LiCoOâ‚‚)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### QuÃ­mica da Bateria

<Tabs>
<TabItem value="lipo" label="Por que LiPo?">

**LiPo vs Outras Tecnologias:**

| Tipo | Energia/kg | PotÃªncia Pico | Ciclos | Custo |
|------|------------|---------------|--------|-------|
| **LiPo** | 180 Wh/kg | â­â­â­â­â­ | 500 | ğŸ’°ğŸ’° |
| Li-Ion | 250 Wh/kg | â­â­â­ | 1000 | ğŸ’°ğŸ’°ğŸ’° |
| LiFePOâ‚„ | 120 Wh/kg | â­â­ | 2000 | ğŸ’° |
| NiMH | 80 Wh/kg | â­â­ | 500 | ğŸ’° |

**Vantagens LiPo para RobÃ³tica:**
1. âœ… **Alta potÃªncia de pico** (90A = 4.3kW!)
   - NecessÃ¡rio para saltos, corrida
   - Motores podem puxar muita corrente instantaneamente

2. âœ… **Baixa resistÃªncia interna**
   - Menos aquecimento durante descarga
   - Voltagem estÃ¡vel mesmo com alta carga

3. âœ… **Formato flexÃ­vel**
   - Pode ser moldada no quadril do robÃ´
   - Centraliza peso (melhor para balanÃ§o)

**Desvantagens:**
- âŒ Ciclos de vida menor (500 vs 1000 Li-Ion)
- âŒ Mais perigosa se mal utilizada (risco de fogo)
- âŒ Degrada mais rÃ¡pido se armazenada carregada

</TabItem>

<TabItem value="cells" label="Anatomia das CÃ©lulas">

**Cada cÃ©lula LiPo:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   + Terminal     â”‚ â† 4.2V (carregada)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Catodo: LiCoOâ‚‚]â”‚ â† Ã“xido de cobalto
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [EletrÃ³lito]    â”‚ â† Gel polimÃ©rico
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Anodo: Grafite]â”‚ â† Carbono
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   - Terminal     â”‚ â† 0V (referÃªncia)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚
   â””â”€â†’ Ãons Liâº fluem entre anodo/catodo
```

**ReaÃ§Ã£o QuÃ­mica:**
- **Descarga**: Liâº vai do anodo â†’ catodo (energia liberada)
- **Carga**: Liâº vai do catodo â†’ anodo (energia armazenada)

**DegradaÃ§Ã£o ao Longo do Tempo:**
```python
# Capacidade restante apÃ³s N ciclos
def battery_capacity(cycles, initial_capacity=9.0):
    # Modelo de degradaÃ§Ã£o LiPo
    capacity = initial_capacity * (0.8 ** (cycles / 500))
    return round(capacity, 2)

print(f"Ciclo 0:    {battery_capacity(0)} Ah")    # 9.00 Ah
print(f"Ciclo 250:  {battery_capacity(250)} Ah")  # 8.05 Ah
print(f"Ciclo 500:  {battery_capacity(500)} Ah")  # 7.20 Ah (80%)
print(f"Ciclo 1000: {battery_capacity(1000)} Ah") # 5.18 Ah (fim de vida)
```

</TabItem>

<TabItem value="12s2p" label="ConfiguraÃ§Ã£o 12S2P">

**12S2P Explicado:**

```
SÃ©rie (12S): Aumenta Voltagem
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[3.7V] + [3.7V] + ... + [3.7V] = 44.4V

Paralelo (2P): Aumenta Capacidade
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[4.5Ah]
   â•‘     â†’ 9Ah total
[4.5Ah]


Layout FÃ­sico:
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚ S1  â”‚ S2  â”‚ S3  â”‚ S4  â”‚ S5  â”‚ S6  â”‚
â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚
â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚ S7  â”‚ S8  â”‚ S9  â”‚ S10 â”‚ S11 â”‚ S12 â”‚
â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚
â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚ â•‘   â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
```

**Por que 12S?**
- Motors need 48V nominal for efficiency
- Standard industrial voltage (less DC-DC conversion)
- Good balance between weight and power

</TabItem>
</Tabs>

---

## ğŸ›¡ï¸ BMS (Battery Management System)

### FunÃ§Ãµes do BMS

O BMS Ã© o "cÃ©rebro" que protege a bateria e maximiza vida Ãºtil.

**ProteÃ§Ãµes Implementadas:**

1. **Sobre-corrente** (Overcurrent Protection)
   ```
   Se corrente > 90A por &lt;10s â†’ Desliga saÃ­da
   ```

2. **Sub-voltagem** (Under-voltage Protection)
   ```
   Se qualquer cÃ©lula < 3.0V â†’ Desliga para proteger
   ```

3. **Sobre-voltagem** (Over-voltage Protection)
   ```
   Se qualquer cÃ©lula > 4.25V â†’ Para carregamento
   ```

4. **Temperatura**
   ```
   Se temp > 60Â°C â†’ Reduz corrente mÃ¡xima
   Se temp > 70Â°C â†’ Desliga emergÃªncia
   Se temp < 0Â°C â†’ Bloqueia carregamento
   ```

5. **Balanceamento de CÃ©lulas**
   ```
   Durante carga, equaliza voltagem de todas cÃ©lulas
   MÃ©todo: Passive balancing (dissipa excesso em resistor)
   ```

---

### Leitura de Dados do BMS

<Tabs>
<TabItem value="api" label="API Python">

```python
from unitree_sdk import Robot

robot = Robot()
battery = robot.get_battery_status()

print(f"ğŸ”‹ Estado da Bateria")
print(f"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”")
print(f"Voltagem Total:    {battery.voltage:.2f}V")
print(f"Corrente:          {battery.current:.2f}A")
print(f"SOC (Estado):      {battery.soc}%")
print(f"Capacidade Resta:  {battery.remaining_capacity:.2f}Ah")
print(f"Temperatura:       {battery.temperature}Â°C")
print(f"Ciclos de Vida:    {battery.cycle_count}")
print(f"Health:            {battery.health}%")
print(f"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”")

# Voltagens individuais das cÃ©lulas
for i, cell_v in enumerate(battery.cell_voltages):
    print(f"CÃ©lula {i+1:2d}: {cell_v:.3f}V")

# Checar warnings
if battery.soc < 20:
    print("âš ï¸  Bateria baixa! Retornar Ã  base.")

if battery.temperature > 55:
    print("âš ï¸  Bateria quente! Reduzir carga.")

if max(battery.cell_voltages) - min(battery.cell_voltages) > 0.1:
    print("âš ï¸  CÃ©lulas desbalanceadas! Fazer carga completa.")
```

</TabItem>

<TabItem value="ros2" label="ROS2 Topic">

```bash
# Ver status da bateria via ROS2
ros2 topic echo /battery_status

---
header:
  stamp:
    sec: 1703001234
    nanosec: 567890123
  frame_id: 'base_link'
voltage: 46.8  # Volts
current: 12.3  # Amps (positivo = descarga)
soc: 78        # State of Charge (%)
temperature: 42  # Celsius
health: 95     # Battery health (%)
cycle_count: 127
cell_voltages: [3.90, 3.91, 3.89, 3.90, 3.91, 3.90,
                3.89, 3.90, 3.91, 3.90, 3.89, 3.90]
time_to_empty: 3420  # Seconds (57 min)
---
```

**Monitoramento ContÃ­nuo:**
```bash
# Plot em tempo real
ros2 run plotjuggler plotjuggler

# Adicionar /battery_status/soc
# Adicionar /battery_status/temperature
```

</TabItem>

<TabItem value="display" label="Display LED">

**LEDs na Bateria FÃ­sica:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BATERIA UNITREE G1    â”‚
â”‚                        â”‚
â”‚  â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â”  â”‚
â”‚  â”‚ğŸŸ¢â”‚ â”‚ğŸŸ¢â”‚ â”‚ğŸŸ¢â”‚ â”‚âšªâ”‚  â”‚ â† 75% carga
â”‚  â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜ â””â”€â”€â”˜  â”‚
â”‚                        â”‚
â”‚  [  BUTTON  ]          â”‚ â† Press para ver SOC
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**InterpretaÃ§Ã£o dos LEDs:**
- ğŸŸ¢ ğŸŸ¢ ğŸŸ¢ ğŸŸ¢ = 100-75%
- ğŸŸ¢ ğŸŸ¢ ğŸŸ¢ âšª = 75-50%
- ğŸŸ¢ ğŸŸ¢ âšª âšª = 50-25%
- ğŸŸ¢ âšª âšª âšª = 25-10%
- ğŸ”´ âšª âšª âšª = &lt;10% (CRÃTICO)
- ğŸ”´ piscando = Erro BMS

</TabItem>
</Tabs>

---

## âš¡ Sistema de Carregamento

### Carregador Oficial

**Unitree G1 Smart Charger**

```
EspecificaÃ§Ãµes:
â”œâ”€ Input:  100-240V AC (universal)
â”œâ”€ Output: 50.4V DC @ 5A (252W)
â”œâ”€ Tempo de Carga:
â”‚  â”œâ”€ 0â†’80%:  1.5h (fast charge)
â”‚  â”œâ”€ 80â†’100%: 0.5h (trickle charge)
â”‚  â””â”€ Total:   ~2h
â”œâ”€ ProteÃ§Ãµes:
â”‚  â”œâ”€ Curto-circuito
â”‚  â”œâ”€ Sobre-temperatura
â”‚  â”œâ”€ Polaridade reversa
â”‚  â””â”€ EMI filtering
â””â”€ Conectividade:
   â””â”€ LED status + comunicaÃ§Ã£o BMS
```

---

### Processo de Carregamento

<Tabs>
<TabItem value="stages" label="EstÃ¡gios de Carga">

**CC-CV Protocol (Constant Current - Constant Voltage):**

```
Corrente/Voltagem
    â”‚
5A  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               STAGE 1: CC (Constant Current)
    â”‚         â”‚               â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    â”‚         â”‚               â€¢ 5A constante
    â”‚         â”‚               â€¢ Voltagem sobe gradualmente
    â”‚         â”‚               â€¢ 0% â†’ 80% SOC
    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â€¢ RÃ¡pido (~1.5h)
    â”‚                    â”‚
    â”‚                    â”‚    STAGE 2: CV (Constant Voltage)
    â”‚                    â”‚    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
    â”‚                    â”‚    â€¢ 50.4V constante
    â”‚                    â””â”€â”€  â€¢ Corrente cai gradualmente
    â”‚                         â€¢ 80% â†’ 100% SOC
0A  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â€¢ Lento (~0.5h) para balancear cÃ©lulas
    0%                  80%  100%
         Estado de Carga (SOC)
```

**Por que CV Ã© lento?**
- CÃ©lulas precisam balancear
- Previne sobre-voltagem em cÃ©lulas individuais
- Maximiza vida Ãºtil da bateria

</TabItem>

<TabItem value="procedure" label="Procedimento">

**Como Carregar o G1:**

1. **Desligue o RobÃ´**
   ```bash
   # Via software
   robot.shutdown()

   # Ou pressione botÃ£o power por 5s
   ```

2. **Conecte o Carregador**
   - Porta de carga: lateral do quadril (plug XT60)
   - LED carregador: Vermelho (carregando)

3. **Aguarde Carga Completa**
   - LED muda para Verde
   - ~2 horas total
   - BMS balanceia cÃ©lulas automaticamente

4. **Desconecte**
   - Sempre desconecte carregador primeiro
   - Depois desligue da tomada

**âš ï¸ NUNCA:**
- âŒ Carregar com robÃ´ ligado (pode confundir BMS)
- âŒ Usar carregador nÃ£o-oficial (risco de fogo)
- âŒ Deixar carregando &lt;24h sem supervisÃ£o
- âŒ Carregar em temperatura &lt;0Â°C ou &gt;45Â°C

</TabItem>

<TabItem value="fast" label="Carga RÃ¡pida">

**Carregador RÃ¡pido (Opcional - $300):**

```
Unitree Fast Charger 10A:
â”œâ”€ Output: 50.4V @ 10A (504W)
â”œâ”€ 0â†’80% em 45 minutos
â”œâ”€ Total: ~70 minutos
â””â”€ Requer cooling ativo (ventilador)
```

**Trade-offs:**
- âœ… 2x mais rÃ¡pido
- âœ… Ãštil para operaÃ§Ã£o 24/7 (turnos)
- âŒ Reduz ciclos de vida em ~20%
- âŒ Bateria mais quente durante carga
- âŒ Requer ventilaÃ§Ã£o adequada

**Quando usar Fast Charge:**
- OperaÃ§Ã£o comercial com downtime limitado
- SituaÃ§Ãµes emergenciais
- NÃ£o usar rotineiramente

</TabItem>
</Tabs>

---

## ğŸ“Š Autonomia e OtimizaÃ§Ã£o

### Consumo por Atividade

**Benchmark Oficial:**

| Atividade | PotÃªncia MÃ©dia | Autonomia |
|-----------|----------------|-----------|
| **Standby** (motores off) | 20W | 20h+ |
| **Damping** (gravidade) | 50W | 8h |
| **Parado em pÃ©** | 80W | 5h |
| **Caminhada lenta** (0.5 m/s) | 150W | 4.5h |
| **Caminhada normal** (1 m/s) | 250W | 2.8h |
| **Caminhada rÃ¡pida** (2 m/s) | 400W | 1.7h |
| **Corrida** (3 m/s) | 600W | 1.1h |
| **ManipulaÃ§Ã£o** (braÃ§os) | +30W | -20min |
| **LIDAR ativo** | +8W | -15min |
| **Processamento IA** (GPU) | +15W | -25min |

---

### Estimativa de Autonomia

```python
def estimate_runtime(activities):
    """
    Estima autonomia baseado em perfil de uso.

    activities: lista de (potÃªncia_W, duraÃ§Ã£o_min)
    """
    BATTERY_WH = 432  # Wh

    total_energy = 0  # Wh

    for power, duration_min in activities:
        energy = (power * duration_min) / 60  # W * h
        total_energy += energy

    remaining = BATTERY_WH - total_energy
    return remaining, (remaining / BATTERY_WH) * 100

# Exemplo: MissÃ£o de inspeÃ§Ã£o
mission = [
    (150, 30),  # 30min caminhando lento
    (80, 10),   # 10min parado (inspecionando)
    (180, 5),   # 5min manipulando (tirando foto)
    (150, 30),  # 30min retornando
]

remaining_wh, soc = estimate_runtime(mission)
print(f"Energia restante: {remaining_wh:.1f} Wh ({soc:.0f}%)")
print(f"MissÃ£o OK: {soc > 20}")  # MÃ­nimo 20% reserva

# Output:
# Energia restante: 256.5 Wh (59%)
# MissÃ£o OK: True
```

---

### Dicas de OtimizaÃ§Ã£o

<Tabs>
<TabItem value="software" label="OtimizaÃ§Ãµes de Software">

**1. Desligar Sensores DesnecessÃ¡rios**
```python
# Se nÃ£o precisa de LIDAR indoor
robot.lidar.disable()  # Economiza 8W

# Reduzir framerate de cÃ¢meras
robot.camera_front.set_fps(15)  # Default: 30fps
# Economiza ~3W

# Modo de IA econÃ´mico
robot.set_ai_mode('power_save')
# Usa GPU apenas quando necessÃ¡rio
# Economiza ~10W em mÃ©dia
```

**2. Otimizar TrajetÃ³rias**
```python
# Preferir caminhos retos (menos correÃ§Ãµes)
path = planner.plan(start, goal, optimize='energy')

# Velocidade Ã³tima: 0.8-1.2 m/s
robot.set_walk_speed(1.0)  # Sweet spot eficiÃªncia

# Evitar aceleraÃ§Ãµes bruscas
robot.set_acceleration(0.5)  # m/sÂ² (default: 1.0)
```

**3. Modo de HibernaÃ§Ã£o**
```python
# Durante pausas longas (&lt;5min)
robot.hibernate()
# - Desliga motores
# - Senta no chÃ£o
# - MantÃ©m apenas sistemas vitais
# Consumo: 15W (vs 80W em pÃ©)

# Despertar
robot.wake_up()  # 10s para ficar em pÃ© novamente
```

</TabItem>

<TabItem value="hardware" label="OtimizaÃ§Ãµes de Hardware">

**1. Bateria Extra (Hot-Swap)**
```
Adquirir 2-3 baterias adicionais:
â”œâ”€ Custo: $800 cada
â”œâ”€ Permite operaÃ§Ã£o contÃ­nua
â””â”€ Troca em &lt;60 segundos

Workflow:
â”Œâ”€ Bateria 1 (operando) â”€â”€â”€ 4h â”€â”€â”€â”
â”‚                                   â†“
â””â”€ Bateria 2 (carregando) â† Swap â†â”˜
```

**2. Upgrade para Bateria 12Ah**
```
Bateria maior (opcional):
â”œâ”€ 12Ah vs 9Ah padrÃ£o (+33%)
â”œâ”€ Peso: +700g (2.8kg total)
â”œâ”€ Autonomia: 6h (caminhada lenta)
â””â”€ Custo: $1,200
```

**3. Painel Solar PortÃ¡til**
```
Para operaÃ§Ãµes externas prolongadas:
â”œâ”€ Painel 100W dobrÃ¡vel
â”œâ”€ Controlador MPPT
â”œâ”€ Carga: ~2A (slow charge durante operaÃ§Ã£o)
â”œâ”€ Adiciona 1-2h autonomia/dia
â””â”€ Custo: $400

âš ï¸ NÃ£o substitui bateria, apenas estende
```

</TabItem>

<TabItem value="thermal" label="GestÃ£o TÃ©rmica">

**Temperatura afeta autonomia:**

```python
# EficiÃªncia da bateria vs temperatura
def battery_efficiency(temp_celsius):
    if temp_celsius < 0:
        return 0.70  # 70% capacidade (frio extremo)
    elif temp_celsius < 10:
        return 0.85  # 85%
    elif 15 <= temp_celsius <= 30:
        return 1.00  # 100% (ideal)
    elif temp_celsius <= 40:
        return 0.95  # 95% (quente)
    else:
        return 0.85  # 85% (muito quente + throttle)

# Exemplo
temp = robot.get_battery_temp()
eff = battery_efficiency(temp)
real_capacity = 9.0 * eff

print(f"Temperatura: {temp}Â°C")
print(f"Capacidade efetiva: {real_capacity:.2f}Ah")
```

**Dicas:**
- â„ï¸ Frio (&lt;10Â°C): PrÃ©-aquecer bateria antes de missÃ£o
- ğŸ”¥ Calor (&gt;35Â°C): Pausas mais frequentes, evitar sol direto
- ğŸ¯ Ideal: 20-25Â°C

</TabItem>
</Tabs>

---

## ğŸ”¥ SeguranÃ§a e ManutenÃ§Ã£o

### Armazenamento de Longo Prazo

**Se nÃ£o vai usar o G1 por &lt;1 semana:**

1. **Carregar atÃ© 50-60%** (nÃ£o 100%!)
   ```bash
   # Verificar SOC
   robot.get_battery_soc()  # Deve estar em 50-60%

   # Se &lt;60%, descarregar operando atÃ© 55%
   # Se &lt;50%, carregar
   ```

2. **Desconectar Bateria**
   - Pressione clipes laterais
   - Remova bateria do quadril
   - Armazene separadamente

3. **CondiÃ§Ãµes de Armazenamento**
   - Temperatura: 15-25Â°C (ideal: 20Â°C)
   - Umidade: &lt;60%
   - Local seco, sem sol direto
   - Check a cada 3 meses, recarregar se &lt;40%

**Por que 50-60% e nÃ£o 100%?**
- CÃ©lulas cheias degradam mais rÃ¡pido
- Estresse quÃ­mico menor em 50%
- Pode durar 6+ meses sem recarga

---

### Descarte Seguro

**Bateria LiPo fim de vida (&lt;60% health):**

1. **Descarregar Completamente**
   ```bash
   # Conectar resistor de carga atÃ© 0V
   # OU submergir em Ã¡gua salgada por 24h (terminals isolados)
   ```

2. **Levar para Reciclagem**
   - Lojas de eletrÃ´nicos aceitam LiPo
   - NÃ£o jogar no lixo comum
   - Risco de incÃªndio em aterros

3. **Substituir por Nova**
   - Unitree vende baterias: support@unitree.com
   - Entrega: 2-4 semanas
   - Custo: $800

---

### Troubleshooting

**Problemas Comuns:**

<Tabs>
<TabItem value="no-charge" label="NÃ£o Carrega">

**Sintoma**: LED carregador nÃ£o acende

**Checklist**:
1. âœ… Tomada tem energia? (testar outro aparelho)
2. âœ… Carregador conectado corretamente? (click audÃ­vel)
3. âœ… Bateria nÃ£o estÃ¡ muito quente/fria? (tocar para sentir)
4. âœ… BMS nÃ£o estÃ¡ em proteÃ§Ã£o? (LEDs bateria piscando?)

**SoluÃ§Ã£o**:
```bash
# Reset BMS
1. Desconectar bateria do robÃ´
2. Pressionar botÃ£o bateria por 10s
3. Aguardar 30s
4. Reconectar e tentar carregar

# Se nÃ£o resolver
Contatar suporte Unitree
```

</TabItem>

<TabItem value="fast-drain" label="Descarga RÃ¡pida">

**Sintoma**: Autonomia menor que esperado

**Causas PossÃ­veis**:
1. Bateria degradada (checar `battery.health`)
   ```python
   if robot.get_battery_health() < 80:
       print("Bateria degradada, considerar substituiÃ§Ã£o")
   ```

2. CÃ©lulas desbalanceadas
   ```python
   cells = robot.get_cell_voltages()
   if max(cells) - min(cells) > 0.15:
       print("Fazer carga completa para balancear")
   ```

3. Consumo anormal (motor com problema)
   ```python
   power = robot.get_power_consumption()
   if power > 500 and robot.is_idle():
       print("Consumo anormal! Verificar motores.")
   ```

</TabItem>

<TabItem value="swollen" label="Bateria Inchada">

**âš ï¸ PERIGO CRÃTICO âš ï¸**

**Sintoma**: Bateria estÃ¡ expandida/inchada

**AÃ§Ã£o Imediata**:
1. ğŸ›‘ **PARE DE USAR** imediatamente
2. ğŸ”Œ Desconecte do robÃ´
3. ğŸƒ Mova para Ã¡rea aberta (risco de fogo)
4. ğŸ“§ Contate Unitree para descarte seguro

**Causas**:
- Sobre-carga repetida
- Dano fÃ­sico (queda)
- Temperatura excessiva
- Fim natural de vida (&gt;1000 ciclos)

**PrevenÃ§Ã£o**:
- InspeÃ§Ã£o visual mensal
- Nunca carregar sem supervisÃ£o primeiros 6 meses
- Usar apenas carregador oficial

</TabItem>
</Tabs>

---

## âœ… Checklist de Conhecimento

ApÃ³s este mÃ³dulo, vocÃª deve saber:

- [ ] EspecificaÃ§Ãµes da bateria (48V, 9Ah, 432Wh)
- [ ] DiferenÃ§a entre LiPo e Li-Ion
- [ ] FunÃ§Ãµes do BMS (proteÃ§Ã£o, balanceamento)
- [ ] Tempo de carga (2h padrÃ£o, ~1h rÃ¡pido)
- [ ] Autonomia por atividade (4.5h caminhada lenta)
- [ ] Como armazenar bateria longo prazo (50-60% SOC)
- [ ] Quando substituir bateria (&lt;60% health)

---

## ğŸ”— PrÃ³ximos Passos

:::tip PrÃ³ximo MÃ³dulo
**[ğŸ–¥ï¸ Sistema Computacional â†’](./sistema-computacional)**

Deep dive no Jetson Orin NX: processamento, IA, ROS2 e otimizaÃ§Ãµes.
:::

---

**â±ï¸ Tempo de estudo:** 40-50 minutos
**ğŸ“Š NÃ­vel:** IntermediÃ¡rio
**ğŸ”‹ Hands-on:** Praticar leitura de BMS via API
